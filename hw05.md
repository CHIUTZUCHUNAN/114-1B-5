## UML 類別圖
```mermaid
%%{init:{
  "themeVariables":{
    "fontFamily":"Noto Sans TC, Microsoft JhengHei, system-ui",
    "fontSize":"16px"
  }
}}%%
classDiagram

class ProctoringSystem["監考系統"] {
  +主程式()
  +啟動考場()
}

class ProctoringController["監考控制器"] {
  -相機管理
  -視覺引擎
  -風險評估引擎
  -紀錄器
  -設定檔
  -是否監控中: 布林值
  +自我檢查()
  +開始監控()
  +暫停監控()
  +停止並匯出()
  +處理影格()
}

class Config["門檻設定"] {
  +最大水平轉頭: 浮點數
  +最大上下點頭: 浮點數
  +凝視容許秒數: 浮點數
  +允許人臉數: 整數
  +載入門檻()
  +更新門檻()
}

class CameraManager["相機管理"] {
  -裝置編號: 整數
  -目前FPS: 整數
  +開啟相機()
  +檢查解析度()
  +檢查光線條件()
  +取得影格()
}

class VisionEngine["視覺引擎"] {
  -FaceMesh模型
  -基準嵌入向量
  +偵測頭部姿態()
  +估計視線方向()
  +偵測人臉數量()
  +身分驗證()
}

class RiskAssessmentEngine["風險評估引擎"] {
  -警示等級: 字串
  -連續異常影格: 整數
  +計算風險分數()
  +判斷燈號()
}

class Recorder["紀錄器"] {
  -CSV路徑: 字串
  -截圖資料夾: 字串
  +紀錄事件()
  +儲存截圖()
  +匯出資料()
}

%% 關係
ProctoringSystem *-- ProctoringController : 包含
ProctoringController *-- CameraManager : 管理
ProctoringController *-- VisionEngine : 管理
ProctoringController *-- RiskAssessmentEngine : 管理
ProctoringController *-- Recorder : 管理
ProctoringController o-- Config : 使用
RiskAssessmentEngine ..> Config : 依賴
ProctoringController ..> VisionEngine : 呼叫

```
## 使用案例1 循序圖
```mermaid
sequenceDiagram
    actor T as 監考員
    participant UI as 監考介面/系統
    participant Cam as 相機與自檢模組
    participant Cfg as 門檻設定

    T ->> UI: 點擊「開始自檢」
    UI ->> Cam: 發送自檢請求
    Cam ->> Cam: 檢查解析度 / FPS / 臉部可見度 / 光線
    Cam -->> UI: 回傳自檢結果

    alt 自檢未通過
        UI -->> T: 顯示改善建議（移動位置 / 調整光線）
        T ->> Cam: 調整環境
        UI ->> Cam: 重新執行自檢
        Cam -->> UI: 自檢通過
    end

    UI -->> T: 顯示「自檢完成」

    T ->> UI: 輸入監考門檻（角度 / 視線秒數 / 人臉上限）
    UI ->> Cfg: 儲存門檻設定

    T ->> UI: 點擊「開始監控」
    UI ->> Cam: 啟動相機串流與即時分析
    UI ->> UI: 建立監控會話／寫入起始時間
```

## 使用案例1 活動圖
```mermaid
flowchart TD
    A([開始]) --> B[開啟 Colab / Web 介面\n取得相機權限]
    B --> C[監考員點擊「開始自檢」]
    C --> D[系統檢查解析度、FPS、臉部可見度、光線]

    D --> E{自檢是否通過？}

    E -->|否| F[顯示改善建議\n(移動位置 / 調整光線)]
    F --> G[監考員調整環境]
    G --> C

    E -->|是| H[監考員設定門檻\n(角度 / 視線秒數 / 人臉數)]
    H --> I[系統儲存門檻設定]
    I --> J[監考員點擊「開始監控」]
    J --> K[系統建立監控會話\n寫入起始時間]
    K --> L([結束：進入即時監控])
```
















